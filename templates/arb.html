{% extends "base.html" %}

{% block title %}Summary - Dexscreener{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    {% for opportunity in arbitrage_opportunities %}
    <div class="col-md-12 mb-4">
      <div class="card shadow-sm d-flex flex-column">
        <!-- Card Header -->
        <div class="card-header text-white">
          <h5 class="card-title mb-0">Arbitrage Opportunity</h5>
        </div>
        <div class="card-body d-flex flex-column flex-grow-1">
          <!-- Pair Details in Table -->
          <table class="table table-bordered table-sm">
            <thead>
              <tr>
                <th scope="col">Detail</th>
                <th scope="col">{{ opportunity.pair1 }}</th>
                <th scope="col">{{ opportunity.pair2 }}</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Price</th>
                <td>{{ opportunity.pair1_price }}</td>
                <td>{{ opportunity.pair2_price }}</td>
              </tr>
              <tr>
                <th scope="row">Liquidity</th>
                <td>{{ opportunity.pair1_liquidity }}</td>
                <td>{{ opportunity.pair2_liquidity }}</td>
              </tr>
              <tr>
                <th scope="row">Base Liquidity</th>
                <td>{{ opportunity.pair1_liquidity_base }}</td>
                <td>{{ opportunity.pair2_liquidity_base }}</td>
              </tr>
              <tr>
                <th scope="row">Quote Liquidity</th>
                <td>{{ opportunity.pair1_liquidity_quote }}</td>
                <td>{{ opportunity.pair2_liquidity_quote }}</td>
              </tr>
              <tr>
                <th scope="row">Chain ID</th>
                <td>{{ opportunity.pair1_chain_id }}</td>
                <td>{{ opportunity.pair2_chain_id }}</td>
              </tr>
              <tr>
                <th scope="row">Dex ID</th>
                <td>{{ opportunity.pair1_dex_id }}</td>
                <td>{{ opportunity.pair2_dex_id }}</td>
              </tr>
              <tr>
                <th scope="row">Base Token Address</th>
                <td>{{ opportunity.pair1_baseToken_address }}</td>
                <td>{{ opportunity.pair2_baseToken_address }}</td>
              </tr>
              <tr>
                <th scope="row">Quote Token Address</th>
                <td>{{ opportunity.pair1_quoteToken_address }}</td>
                <td>{{ opportunity.pair2_quoteToken_address }}</td>
              </tr>
              <tr>
                <th scope="row">Address</th>
                <td>{{ opportunity.pool_pair1_address }}</td>
                <td>{{ opportunity.pool_pair2_address }}</td>
              </tr>
              <tr>
                <th scope="row">URL</th>
                <td>
                  <a href="{{ opportunity.pool_pair1_url }}" target="_blank" class="card-link" title="{{ opportunity.pool_pair1_url }}">
                    {{ opportunity.pool_pair1_url | truncate(30, True) }}
                  </a>
                </td>
                <td>
                  <a href="{{ opportunity.pool_pair2_url }}" target="_blank" class="card-link" title="{{ opportunity.pool_pair2_url }}">
                    {{ opportunity.pool_pair2_url | truncate(30, True) }}
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
            <!-- Arbitrage Details -->
            <div class="mb-4">
              <!-- <h6 class="card-subtitle mb-2 text-dark">Arbitrage Details</h6> -->
              <p class="card-text">
                <strong>Price Difference:</strong> {{ opportunity.price_diff }}
              </p>
              <p class="card-text">
                <strong>Liquidity Difference:</strong> {{ opportunity.liquidity_diff }}
              </p>
              <p class="card-text">
                <strong>Potential Profit:</strong> {{ opportunity.potential_profit }}
              </p>
            </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
